### 2024.05.22 Wen

准备向师兄请教一些问题和后续的规划，但在此之前我想先问自己几个问题以及解决师兄之前向我提出的问题。应该得是一个月以前了，交代我的工作就是阅读半监督医学领域的半监督论文以及代码，还有问了我代码会不会自己写一遍。现在考虑一下，论文我还需要再选一些半监督医学领域论文，代码可以github上面稍微看一下就好，是否需要全部手敲复现这个问题是等这些工作都做完之后才准备询问的。然后还想请问代码的实现例如这个乳腺癌的诊断的模型构建。
下午准备把以下几个问题或者工作解决，自己实在是解决不了或者还是不理解的，准备明天有机会问师兄。

1. 你知道整个项目的代码是如何写的不，特别是在训练网络那里，训练函数是如何写的，模型构建是如何写的，简单的模型是如何写的，class和init函数相关的。
2. 整个项目模型训练的权重如何使用，在下一次比如测试的时候如何直接利用自己训练好的权重加载模型然后测试数据集。
3. 都有哪些评估指标，比如写论文的时候需要提到哪些指标，需要哪些可视化的结果，如何得到美观的图片，有些表格是如何排版的，用markdown是否可以，还有自己学一下latex只有这一块还没有开始学习了
4. 关于比赛的乳腺癌诊断分类写一下自己的理解和判断如果时间足够尽量自己先写一下代码如果题目的意思表述清楚，指标需求都可以自己独立完成的话。
5. 从后面可能是还想向师兄提问的，例如乳腺癌检测弱监督检测这一篇论文的代码非常冗余，虽然结构也挺清楚的还是用shell文件运行的，但好像也没有提供模型训练权重直接检测的这个接口，以及gui的界面代码也是不需要的。这个项目所有的代码作者团队有很多人，是否我提供这个结构图片和论文原文能否自己完成代码的构建，sota精度能否达到原作者。论文发表在医学图像分析，一区论文排名是第4在小类里面，引用数量是155，模型的结构其实并不难理解，难就难在如何实现嘛。那既然这样的话哪怕我想到一个好的方法我也不一定能够实现，还是好的方法其实是在写代码的时候不断改进得到的。
6. 我该怎么达到师兄现在的水平，论文的数目（列举我仔细看了哪些，只有代码实现过于长，仍未尝试，已有想法去学习尝试，不知是否正确），做了哪些项目与工作，现在的水平。补充了其他某些知识比如git，github相关的clone，push等等，vim，markdown，shell，虽然都只是表面，但没有空缺也会非常基本的操作，还有kaggle上的notebook以及数据集比赛等等。以及师兄之前的工作是如何完成的，比如就是正常的pycharm编译，没有使用其他的工具。
7. 我想如何才能暑期办理留校，让导师批准，我想在此之前可以达到能达到的最高的水平。
8. 还有一个问题，关于论文引用量那个。发论文的意义到底是什么，比如我发一篇顶会，在论文里面我在某一个数据集上提出了某些方法取得了sota，但是这篇论文的意义并没有体现，确实效果很好，但并不会有实际的应用吧或者说这个领域并不是全世界的最高的指标就更新为自己的模型了，这篇文章能给别人带来什么。我的文章能否给同行研究其他问题的时候提供一些思路，像我现在学习的这些论文，是否我发表的论文可以作为以后研究生学习的一篇论文，可以给初学者一些代码规范和创作思路。



突然发现之前网上搜集到的github的一个作者整理的半监督医学图像分割论文以及代码，现在要看论文的话就以这个为基准，从新的开始看就ok。https://github.com/HiLab-git/SSL4MIS

我现在有一个需求就是能否有一个自己写的搜索引擎，这个搜索引擎在给定的几个网站内搜索，比如我想要这篇论文的中文博客，在谷歌上搜标题只有论文，在联想浏览器搜索也不对，去指定搜索步骤太多，可否省下这几个步骤。

看到了一个参考资料:https://juejin.cn/post/6844904040170536974

另一个：https://www.infoq.cn/article/csLDkKhaVF0JUHVKux1w以及github：https://github.com/bartdegoede/python-searchengine/?fileGuid=4icAb1em6vATdAA7

咋都不好用，自己写一个算了，我的思路就是通过终端访问不断循环遍历几个给定的网站，通过输入关键词得到搜索结果。或者用shell文件搜索展示就ok了，不要太复杂。

```python
import os
print("input title:")
query=input()
list_url=['https://www.google.com/search?q={}',
          'https://so.csdn.net/so/search?q={}',
          'https://www.zhihu.com/search?q={}',
          'http://www.baidu.com/s?wd={}',
          'https://zzk.cnblogs.com/s?w={}',]
for i in range(5):
    search_url=list_url[i].format(query)
    command_code='start '+search_url
    os.system(command_code)
    print('Finished! ',search_url,'~')
```

ok没问题，一个简单的代码。是有问题的，如果输入的有空格就只能读取第一个单词了，后面的改进就可以正确读入。



改进了一下这样子：

```python
import os
query=''
for line in open(r".\input.txt"):
    print('line',line)
    line.rstrip()
    line=line.replace(' ','%20')
    if line.endswith('\n'):
        line=line[:-2]
    query+=line
# print(query)
list_url=['https://www.google.com/search?q={}',
          'https://so.csdn.net/so/search?q={}',
          'https://www.zhihu.com/search?q={}',
          'http://www.baidu.com/s?wd={}',
          'https://zzk.cnblogs.com/s?w={}',]
for i in range(5):
    search_url=list_url[i].format(query)
    command_code='start '+search_url
    os.system(command_code)
    print('Finished! ',search_url,'~')
```

知乎上看到的一篇文章，类不平衡问题 https://zhuanlan.zhihu.com/p/94599093 我想做这一个方向。能看懂的话今晚请教一下师兄。

mac如何用shell运行python: mac版本的

```python
 #!/usr/Applications/Python python3  
import os
query=''
for line in open("./input.txt"):
    print('line',line)
    line.rstrip()
    line=line.replace(' ','%20')
    if line.endswith('\n'):
        line=line[:-2]
    query+=line
# print(query)
list_url=['https://www.google.com/search?q={}',
          'https://so.csdn.net/so/search?q={}',
          'https://www.zhihu.com/search?q={}',
          'http://www.baidu.com/s?wd={}',
          'https://zzk.cnblogs.com/s?w={}',]
for i in range(5):
    search_url=list_url[i].format(query)
    command_code='open '+'\''+search_url+'\''
    # print(command_code)
    os.system(command_code)
    print('Finished! ',search_url,'~')

```

想学习知识蒸馏这篇文章，查了一下又是Hinton：https://zhuanlan.zhihu.com/p/102038521 Hinton是我偶像呜呜呜～论文原文：https://arxiv.org/pdf/1503.02531

深度学习的多个loss如何平衡？ https://www.zhihu.com/question/375794498/answer/2307552166 举例的论文：Multi-Task Learning as Multi-Objective Optimization https://arxiv.org/pdf/1810.04650 一区NIPS2018 引用超过1000次 这个是一个多任务学习的代码文件 https://github.com/median-research-group/LibMTL

这个codefactor查了一下相关资料 ：`CodeFactor`的App，它能够对代码进行自动reviews并给出issue 哈哈要钱就算了～

写一下chat给我解答的几个问题：

>Q:
>
>半监督医学图像分割的类不平衡到底指的是哪里不平衡
>
>A:
>
>半监督医学图像分割中的类别不平衡通常指的是在给定的医学图像数据集中，不同类别之间的样本数量不均衡。具体来说，在图像分割任务中，可能存在某些特定结构或组织的类别在数据集中出现的频率较低，而其他类别则出现的频率较高。这种不平衡可能会对模型的训练和性能产生负面影响，特别是在半监督学习的情况下，由于标记数据有限，模型更容易偏向于出现频率较高的类别，而对于出现频率较低的类别表现不佳。
>
>在医学图像分割中，例如在心脏MRI图像中，常见的类别包括心肌、心脏腔、血液等结构，其中心肌可能是一个相对较小的类别，而心脏腔和血液可能是更大的类别。因此，类别不平衡可能指的是心肌类别在数据集中的样本数量较少，导致模型难以准确地学习并分割出心肌区域。
>
>解决这种类别不平衡需要特殊的处理方法，以确保模型能够充分学习和识别出所有类别，而不是偏向于出现频率较高的类别。上述提到的论文中提出的方法就是针对这一问题展开研究的，旨在改善半监督医学图像分割中类别不平衡带来的挑战。
>
>---
>
>Q:
>
>可是分割不是只有两类吗，一个是白色的一个是黑色的。而我觉得只有图像分类也会出现类不平衡问题啊，为什么图像分割也有这个问题呢
>
>A:
>
>你提出了一个很重要的问题。在图像分类任务中，通常是将整个图像分到一个特定的类别中，因此类别不平衡问题指的是数据集中不同类别的样本数量不均衡。
>
>而在图像分割任务中，每个像素都被分配到特定的类别中，因此类别不平衡问题在这里表现为不同类别的像素数量不均衡。例如，在医学图像分割任务中，可能会有多个组织或结构需要被准确分割，而这些不同的组织或结构所占据的像素数量可能是不均衡的，从而导致类别不平衡问题。
>
>对于医学图像分割任务来说，类别不平衡问题可能会对模型的训练和性能产生负面影响。由于某些类别所占据的像素数量较少，模型可能会倾向于预测出现频率较高的类别，而对于出现频率较低的类别表现不佳，从而影响整体的分割效果。
>
>因此，解决类别不平衡问题对于图像分割任务来说也是非常重要的。该问题可能需要通过使用特殊的权重调整、类别平衡技术或者其他针对性的方法来解决，以确保模型能够有效地学习和分割不同类别的像素。上述提到的论文正是针对半监督医学图像分割中的类别不平衡问题展开研究的，旨在改善模型在这种情况下的性能和泛化能力。
>
>---
>
>Q：Addressing Class Imbalance in Semi-supervised Image Segmentation: A Study on Cardiac MRI那这篇论文在图像分割上的MeanTearcher的改进有哪些呢
>
>A：
>
>不说话了呜呜呜～要充钱～wuwuwu~

关于类别不均衡和mean-Teacher的关系有点想法了：学生要进行高考，为了帮助学生取得好成绩，老师会整理这个科目的大纲和重点，书本上每一个章节的重难点都不一样。在准备高考的这三年里，老师会给学生做随堂测试，章节测试，期中测试，期末测试还有数不完的模拟测试。学生会在老师讲解之后学习巩固没有学会的知识点。假设总共考6本书的内容，共计60章节，老师认为有些章节是重点，模拟测试经常出这个题目，于是类不均衡了。而这个不均衡的比例如果和高考是一致的，那成绩必然很好，但如果不均衡的比例和高考不一致，那么成绩就会非常低。这就是正样本越好，负样本越差。简单的说一个二分类吧，假设高考题目只有两种体型，一个是A，一个是B。往年的比例大概是90%的题目是A题型，10%的题型是B。那么对于老师来说我给学生也是这么教，90%学A题型，10%学B，那么有些人就会想，那我只要90分不就行了，我一直学A，你给我教B，我也学A，我先把A学清楚，少花时间在B身上，对于优化器来说这个学生确实在往好的方面发展，A的比重大，成绩高。但是如果今年高考是10%是A，90%是B的话，那学生的成绩不就是很低吗。我觉得大概就是这个意思，在分割中对应像素的大小，黑色的多，效果好，分数高，那我都判定是黑色不就好了，哪怕错了我再改成白色不就行了。

